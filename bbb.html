<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>병 이름 상세 설명 (bbb.html)</title>
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      margin: 0; padding: 20px;
      background: #f2f8ff;
      color: #333;
    }

    .container {
      max-width: 900px;
      margin: auto;
    }

    h1 {
      text-align: center;
      color: #1a3c57;
      margin-bottom: 40px;
    }

    .info-box {
      background: #ffffff;
      border-left: 6px solid #4a90e2;
      padding: 0;
      margin-bottom: 25px;
      border-radius: 6px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.05);
      overflow: hidden;
    }

    .info-box h3 {
      font-size: 1.3rem;
      color: #114a77;
      margin: 0;
      padding: 20px 25px;
      cursor: pointer;
      background-color: #e6f1ff;
      transition: background 0.3s;
      user-select: none;
    }

    .info-box h3:hover {
      background-color: #d0e6ff;
    }

    .info-box p {
      font-size: 1.1rem;
      color: #333;
      line-height: 1.6;
      padding: 0 25px 20px;
      display: none;
      margin: 0;
    }

    .info-box.active p {
      display: block;
    }

    .source {
      font-size: 0.9rem;
      color: #555;
      padding: 0 25px 20px;
    }

    #lang-select {
      float: right;
      margin-bottom: 20px;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 id="header-title">병 이름 상세 설명</h1>

    <select id="lang-select" aria-label="언어 선택">
      <option value="ko">한국어</option>
      <option value="en">English</option>
    </select>

    <div id="content-area"></div>
  </div>

  <script>
    // URL 파라미터 함수
    function getParam(param) {
      const url = new URL(window.location.href);
      return url.searchParams.get(param);
    }

    const langSelect = document.getElementById('lang-select');
    const contentArea = document.getElementById('content-area');
    const headerTitle = document.getElementById('header-title');

    let currentLang = getParam('lang') || 'ko';
    let id = getParam('id') || '1';

    // 상세 내용 데이터
const data = {
  ko: {
    "1": {
      title: "왜 생태 변화가 전염병과 관련이 있을까?",
      sections: [
        {
          heading: "1. 생태계는 바이러스의 집이다",
          text: "바이러스와 세균은 동물, 물, 식물 같은 자연 안에 살고 있습니다. 자연이 변하면 병원체의 서식지도 바뀌게 됩니다."
        },
        {
          heading: "2. 인간이 경계를 넘으면 바이러스도 따라온다",
          text: "산을 밀고 도시를 만들면 야생동물과 더 가까워집니다. 이 과정에서 동물에게 있던 바이러스가 사람에게 옮겨올 수 있습니다."
        },
        {
          heading: "3. 기후 변화는 병의 활동 범위를 넓힌다",
          text: "기온이 오르면 모기, 진드기 같은 전염병 매개체가 더 넓은 지역으로 퍼집니다. 그 결과 열대병이 다른 나라로 확산되기도 합니다."
        },
        {
          heading: "4. 생태 변화는 사람을 더 약하게 만든다",
          text: "기근, 홍수, 가뭄은 물을 오염시키고 사람을 굶주리게 만듭니다. 면역력이 약해진 사람들은 전염병에 더 쉽게 걸립니다."
        },
        {
          heading: "요약",
          text: "생태계 변화가 인류 건강에 미치는 영향은 과학적 연구로 점점 더 명확해지고 있습니다."
        }
      ],
      source: ""
    },
    "2": {
      title: "조선 시대의 생태",
      sections: [
        {
          heading: "기후: 소빙기",
          text: "17~19세기에는 기온이 낮아 흉년과 기근이 잦았습니다. 이로 인해 사람들의 면역력이 약해져 전염병이 자주 퍼졌습니다."
        },
        {
          heading: "물과 위생",
          text: "공동 우물과 강물을 사용했지만, 홍수나 가뭄이 오면 물이 오염되어 설사병, 이질 같은 수인성 전염병이 확산됐습니다."
        },
        {
          heading: "농업과 산림",
          text: "벼농사 중심의 농경 사회였고, 산림을 많이 베어내어 산사태나 생태계 파괴가 일어났습니다."
        },
        {
          heading: "가축과 생활",
          text: "가축과 사람이 가까이 살며 동물 전염병이 인간에게 퍼질 위험이 컸습니다."
        },
        {
          heading: "유랑민과 전염",
          text: "기근과 재해로 떠도는 유랑민이 많아지면서 전염병이 지역을 넘어 빠르게 확산되었습니다."
        }
      ],
      source: ""
    },
    "3": {
      title: "홍역(마마)",
      sections: [
        {
          heading: "조선시대",
          text: "자연 면역 의존, 민간요법 활용, 사망률 높았음."
        },
        {
          heading: "현대",
          text: "MMR 백신 보급으로 예방, 집단 면역 중요."
        }
      ],
      source: "출처: 조선시대 질병사 연구"
    },
    "4": {
      title: "장티푸스 및 이질",
      sections: [
        {
          heading: "조선시대",
          text: "오염된 물·음식 전파, 환자 격리, 민간 치료."
        },
        {
          heading: "현대",
          text: "항생제, 예방접종, 상하수도 개선으로 예방."
        }
      ],
      source: "출처: 한국 전염병사"
    },
    "5": {
      title: "인플루엔자",
      sections: [
        {
          heading: "현대",
          text: "계절성 독감 및 팬데믹, 백신·항바이러스제 개발됨."
        }
      ],
      source: "출처: 질병관리청, WHO"
    }
  },
  en: {
    "1": {
      title: "Why Is Ecological Change Related to Infectious Diseases?",
      sections: [
        {
          heading: "1. Ecosystems Are Homes to Viruses",
          text: "Viruses and bacteria live in nature, such as animals, water, and plants. When nature changes, the habitats of pathogens also change."
        },
        {
          heading: "2. Viruses Follow Humans When Boundaries Are Crossed",
          text: "When humans clear forests and build cities, they come closer to wildlife. Viruses in animals can jump to humans during this process."
        },
        {
          heading: "3. Climate Change Expands Disease Range",
          text: "As temperatures rise, disease carriers like mosquitoes and ticks spread to wider areas. Tropical diseases sometimes spread to other countries as a result."
        },
        {
          heading: "4. Ecological Changes Weaken Humans",
          text: "Famine, floods, and droughts pollute water and cause hunger. People with weakened immune systems become more vulnerable to infectious diseases."
        },
        {
          heading: "Summary",
          text: "Scientific research is increasingly clarifying how ecological changes impact human health."
        }
      ],
      source: ""
    },
    "2": {
      title: "Ecology in the Joseon Dynasty",
      sections: [
        {
          heading: "Climate: Little Ice Age",
          text: "Between the 17th and 19th centuries, temperatures were low, causing frequent famines and poor harvests. This weakened people's immune systems, allowing infectious diseases to spread."
        },
        {
          heading: "Water and Hygiene",
          text: "People used shared wells and river water, but floods and droughts contaminated water, spreading waterborne diseases like diarrhea and dysentery."
        },
        {
          heading: "Agriculture and Forests",
          text: "The society was rice-farming centered and deforested heavily, leading to landslides and ecological damage."
        },
        {
          heading: "Livestock and Living",
          text: "People lived close to livestock, increasing the risk of animal-borne diseases spreading to humans."
        },
        {
          heading: "Migrants and Epidemics",
          text: "Due to famine and disasters, many migrants wandered, causing diseases to spread rapidly beyond regions."
        }
      ],
      source: ""
    },
    "3": {
      title: "Measles",
      sections: [
        {
          heading: "Joseon Dynasty",
          text: "Relied on natural immunity; folk remedies were used; mortality rates were high."
        },
        {
          heading: "Modern",
          text: "Prevented by MMR vaccine; herd immunity is important."
        }
      ],
      source: "Source: Study on Disease in Joseon"
    },
    "4": {
      title: "Typhoid & Dysentery",
      sections: [
        {
          heading: "Joseon Dynasty",
          text: "Spread through contaminated food and water; patient isolation and folk treatments."
        },
        {
          heading: "Modern",
          text: "Prevention via antibiotics, vaccination, and sanitation improvements."
        }
      ],
      source: "Source: Korean Epidemic History"
    },
    "5": {
      title: "Influenza",
      sections: [
        {
          heading: "Modern",
          text: "Seasonal flu and pandemics; vaccines and antivirals developed."
        }
      ],
      source: "Source: CDC, WHO"
    }
  }
};

    function renderContent(lang, id) {
      const entry = data[lang][id];
      if (!entry) {
        contentArea.innerHTML = "<p>정보가 없습니다.</p>";
        headerTitle.textContent = lang === "ko" ? "병 이름 상세 설명" : "Disease Detail Description";
        return;
      }

      headerTitle.textContent = entry.title;

      let html = "";
      entry.sections.forEach(section => {
        html += `
          <div class="info-box">
            <h3>${section.heading}</h3>
            <p>${section.text}</p>
          </div>
        `;
      });
      html += `<div class="source">${entry.source}</div>`;

      contentArea.innerHTML = html;

      // 클릭해서 내용 토글 기능 추가
      document.querySelectorAll('.info-box h3').forEach(h3 => {
        h3.addEventListener('click', () => {
          const box = h3.parentElement;
          box.classList.toggle('active');
        });
      });
    }

    // 초기 렌더링
    renderContent(currentLang, id);

    // 언어 변경 시 다시 렌더링 및 URL 반영
    langSelect.value = currentLang;
    langSelect.addEventListener('change', () => {
      currentLang = langSelect.value;
      renderContent(currentLang, id);

      // URL에 lang 파라미터 교체 (새로고침 없이)
      const url = new URL(window.location.href);
      url.searchParams.set('lang', currentLang);
      history.replaceState(null, '', url.toString());
    });
  </script>
</body>
</html>

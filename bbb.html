<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>병 이름 상세 설명 (bbb.html)</title>
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      margin: 0; padding: 20px;
      background: #f2f8ff;
      color: #333;
    }

    .container {
      max-width: 900px;
      margin: auto;
    }

    h1 {
      text-align: center;
      color: #1a3c57;
      margin-bottom: 40px;
    }

    .info-box {
      background: #ffffff;
      border-left: 6px solid #4a90e2;
      padding: 0;
      margin-bottom: 25px;
      border-radius: 6px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.05);
      overflow: hidden;
    }

    .info-box h3 {
      font-size: 1.3rem;
      color: #114a77;
      margin: 0;
      padding: 20px 25px;
      cursor: pointer;
      background-color: #e6f1ff;
      transition: background 0.3s;
      user-select: none;
    }

    .info-box h3:hover {
      background-color: #d0e6ff;
    }

    .info-box p {
      font-size: 1.1rem;
      color: #333;
      line-height: 1.6;
      padding: 0 25px 20px;
      display: none;
      margin: 0;
    }

    .info-box.active p {
      display: block;
    }

    .source {
      font-size: 0.9rem;
      color: #555;
      padding: 0 25px 20px;
    }

    #lang-select {
      float: right;
      margin-bottom: 20px;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 id="header-title">병 이름 상세 설명</h1>

    <select id="lang-select" aria-label="언어 선택">
      <option value="ko">한국어</option>
      <option value="en">English</option>
    </select>

    <div id="content-area"></div>
  </div>

  <script>
    // URL 파라미터 함수
    function getParam(param) {
      const url = new URL(window.location.href);
      return url.searchParams.get(param);
    }

    const langSelect = document.getElementById('lang-select');
    const contentArea = document.getElementById('content-area');
    const headerTitle = document.getElementById('header-title');

    let currentLang = getParam('lang') || 'ko';
    let id = getParam('id') || '1';

    // 상세 내용 데이터
const data = {
  ko: {
    "1": { ... }, // 그대로 유지
    "2": { ... }, // 그대로 유지

    "3": {
      title: "조선 시대의 전염병",
      sections: [
        {
          heading: "두창 (천연두)",
          text: "강한 전염성과 높은 치사율을 가진 전염병으로, 조선 전역에 확산되었습니다. 위생 지식 부족과 격리 불능 상태로 많은 희생자가 발생했습니다."
        },
        {
          heading: "온역",
          text: "고온 다습한 여름철에 유행하던 전염병으로, 오염된 물과 나쁜 위생 상태로 인해 급속히 퍼졌습니다."
        },
        {
          heading: "이질",
          text: "수인성 전염병으로, 오염된 물과 음식을 통해 전파되었습니다. 심한 복통과 설사를 유발하며, 전염성이 강했습니다."
        },
        {
          heading: "콜레라 (괴질)",
          text: "‘괴질’이라 불리던 정체불명의 전염병은 나중에 콜레라였던 것으로 밝혀졌습니다. 빠른 전파력과 높은 사망률이 특징입니다."
        }
      ],
      source: "출처: 조선 전염병사 및 역사 기록"
    },

    "4": {
      title: "현대 시대의 생태",
      sections: [
        {
          heading: "기후 변화와 지구 온난화",
          text: "온실가스 증가로 지구 온도가 상승하면서 이상기후, 생태계 파괴, 전염병 확산 등의 문제가 발생하고 있습니다."
        },
        {
          heading: "도시화와 생물 다양성 감소",
          text: "도시 확장으로 서식지가 줄고 야생동물이 사라지며 생태계의 균형이 깨지고 있습니다."
        },
        {
          heading: "플라스틱 오염",
          text: "자연 분해되지 않는 플라스틱은 해양 생태계와 인간 건강에 위협이 됩니다."
        },
        {
          heading: "신재생 에너지 확대",
          text: "태양광, 풍력 에너지 사용이 증가하며, 기후 위기에 대응하는 핵심 수단으로 떠오르고 있습니다."
        },
        {
          heading: "시민 참여와 실천",
          text: "분리배출, 자전거 타기 등 일상 속 실천이 지속 가능한 환경을 만드는 데 기여합니다."
        }
      ],
      source: "출처: 환경부, 기후변화센터"
    },

    "5": {
      title: "현대 생태 변화가 만든 전염병",
      sections: [
        {
          heading: "코로나19 (COVID-19)",
          text: "박쥐에서 사람으로의 전이로 시작되었으며, 야생동물 거래와 서식지 파괴가 큰 원인으로 지목되었습니다."
        },
        {
          heading: "뎅기열",
          text: "기후 변화로 모기의 서식 범위가 넓어지면서, 열대성 질병이 새로운 지역으로 퍼졌습니다."
        },
        {
          heading: "조류독감",
          text: "밀집된 공장식 축산 환경에서 바이러스가 퍼지기 쉬워지고, 사람에게도 감염 가능성이 생겼습니다."
        },
        {
          heading: "노로바이러스",
          text: "위생 문제와 해양 오염이 주요 원인이며, 겨울철에 흔히 발생하는 식중독성 전염병입니다."
        }
      ],
      source: "출처: 질병관리청, WHO"
    }
  },

  en: {
    "1": { ... }, // 그대로 유지
    "2": { ... }, // 그대로 유지

    "3": {
      title: "Infectious Diseases in the Joseon Era",
      sections: [
        {
          heading: "Smallpox",
          text: "One of the deadliest diseases in the Joseon Dynasty, it spread rapidly due to poor hygiene and lack of quarantine."
        },
        {
          heading: "Onyeok (Plague-like Fever)",
          text: "A collective term for summer-time diseases, often caused by polluted water and poor sanitation."
        },
        {
          heading: "Dysentery",
          text: "A waterborne disease causing severe diarrhea and stomach pain. It spread easily in unsanitary conditions."
        },
        {
          heading: "Cholera (‘Gwaejil’)",
          text: "Called ‘Gwaejil’ at the time, later identified as cholera. Spread rapidly and caused mass casualties."
        }
      ],
      source: "Source: Historical Records of Korean Epidemics"
    },

    "4": {
      title: "Modern Ecological Changes",
      sections: [
        {
          heading: "Climate Change and Global Warming",
          text: "Greenhouse gas emissions have led to rising temperatures, extreme weather, and increased disease risks."
        },
        {
          heading: "Urbanization and Loss of Biodiversity",
          text: "Urban expansion destroys wildlife habitats and disrupts ecological balance."
        },
        {
          heading: "Plastic Pollution",
          text: "Non-biodegradable plastic threatens marine ecosystems and can harm human health."
        },
        {
          heading: "Expansion of Renewable Energy",
          text: "Use of solar and wind energy is growing, becoming key to combating climate change."
        },
        {
          heading: "Citizen Participation and Action",
          text: "Recycling, cycling, and public transit are everyday actions that promote sustainability."
        }
      ],
      source: "Source: Ministry of Environment, Climate Change Center"
    },

    "5": {
      title: "Diseases Caused by Modern Ecological Change",
      sections: [
        {
          heading: "COVID-19",
          text: "Originated from bats and spread to humans; linked to wildlife trade and habitat destruction."
        },
        {
          heading: "Dengue Fever",
          text: "Climate change has expanded mosquito habitats, allowing the disease to spread to new areas."
        },
        {
          heading: "Avian Influenza",
          text: "Crowded factory farming enables rapid virus transmission and potential human infection."
        },
        {
          heading: "Norovirus",
          text: "Caused by hygiene failures and marine pollution; common in winter as a foodborne illness."
        }
      ],
      source: "Source: CDC, WHO"
    }
  }
};

    function renderContent(lang, id) {
      const entry = data[lang][id];
      if (!entry) {
        contentArea.innerHTML = "<p>정보가 없습니다.</p>";
        headerTitle.textContent = lang === "ko" ? "병 이름 상세 설명" : "Disease Detail Description";
        return;
      }

      headerTitle.textContent = entry.title;

      let html = "";
      entry.sections.forEach(section => {
        html += `
          <div class="info-box">
            <h3>${section.heading}</h3>
            <p>${section.text}</p>
          </div>
        `;
      });
      html += `<div class="source">${entry.source}</div>`;

      contentArea.innerHTML = html;

      // 클릭해서 내용 토글 기능 추가
      document.querySelectorAll('.info-box h3').forEach(h3 => {
        h3.addEventListener('click', () => {
          const box = h3.parentElement;
          box.classList.toggle('active');
        });
      });
    }

    // 초기 렌더링
    renderContent(currentLang, id);

    // 언어 변경 시 다시 렌더링 및 URL 반영
    langSelect.value = currentLang;
    langSelect.addEventListener('change', () => {
      currentLang = langSelect.value;
      renderContent(currentLang, id);

      // URL에 lang 파라미터 교체 (새로고침 없이)
      const url = new URL(window.location.href);
      url.searchParams.set('lang', currentLang);
      history.replaceState(null, '', url.toString());
    });
  </script>
</body>
</html>

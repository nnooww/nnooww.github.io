<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì™œ ìƒíƒœ ë³€í™”ê°€ ì „ì—¼ë³‘ê³¼ ê´€ë ¨ì´ ìˆì„ê¹Œ? (aaa.html)</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Arial, sans-serif;
    }
    header, footer {
    background: #444;
    color: white;
    text-align: center;
    padding: 1em 0;
    flex-shrink: 0;
    position: relative;
  }

    .container {
      display: flex;
      min-height: calc(100vh - 160px);
    }
    aside {
      flex: 3;
      padding: 1em;
      background: #ddd;
      position: relative;
    }
    footer {
  background: #444;
  padding-top: 25px;
padding-bottom: 25px;
}
    #lang-select {
      position: absolute;
      top: 10px;
      right: 10px;
      padding: 4px 8px;
      font-size: 0.9em;
      cursor: pointer;
      z-index: 20;
    }

    main {
      flex: 1;
      padding: 1em;
      background: #eee;
    }
    .bacteria-list > li {
      font-size: 1.2em;
      font-weight: bold;
      margin-bottom: 1em;
      cursor: pointer;
    }

    #hover-box {
      position: absolute;
      top: 50px;
      right: 10px;
      width: 350px;
      background: rgba(255,255,255,0.95);
      border: 1px solid #aaa;
      padding: 1em;
      display: none;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      z-index: 10;
    }

    #hover-box h3 {
      margin-top: 0;
      font-size: 1.1em;
    }

    #hover-box p {
      margin: 0.5em 0;
      font-size: 0.9em;
    }

    #hover-box button {
      margin-top: 1em;
      padding: 0.5em 1em;
      font-size: 0.9em;
      cursor: pointer;
    }

    #ecology-impact {
      margin-top: 20px;
      background: #f2f8ff;
      padding: 15px;
      border-radius: 6px;
      font-family: 'Noto Sans KR', sans-serif;
    }
    #ecology-impact h3 {
      color: #1a3c57;
      text-align: center;
      margin-bottom: 15px;
    }
    #ecology-impact .info-box {
      background: #fff;
      border-left: 5px solid #4a90e2;
      margin-bottom: 12px;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    #ecology-impact .info-box h4 {
      font-size: 1rem;
      color: #114a77;
      margin: 0;
      padding: 10px 12px;
      cursor: pointer;
      background-color: #e6f1ff;
      transition: background 0.3s;
      user-select: none;
    }
    #ecology-impact .info-box h4:hover {
      background-color: #d0e6ff;
    }
    #ecology-impact .info-box p {
      font-size: 0.9rem;
      color: #333;
      line-height: 1.4;
      padding: 0 12px 10px;
      display: none;
      margin: 0;
    }
    #ecology-impact blockquote {
      font-size: 0.95rem;
      font-weight: 500;
      color: #2c3e50;
      background: #e3f1ff;
      border-left: 5px solid #007acc;
      padding: 12px;
      border-radius: 6px;
      margin-top: 15px;
      text-align: center;
      line-height: 1.5;
    }

    /* ë¡œë”© ìŠ¤íƒ€ì¼ */
    .loading {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(225,225,255,0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
      color: #333;
      z-index: 9999;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.5s ease;
    }
    .loading > div {
      width: 50px; height: 50px;
      border: 6px solid #ccc;
      border-top: 6px solid #333;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-left: 20px;
    }
    @keyframes spin {
      0% { transform: rotate(0deg);}
      100% { transform: rotate(360deg);}
    }
  </style>
</head>
<body>
  <header>
    <h1 id="header-title">ì™œ ìƒíƒœ ë³€í™”ê°€ ì „ì—¼ë³‘ê³¼ ê´€ë ¨ì´ ìˆì„ê¹Œ?</h1>
  </header>

  <div class="container">
    <aside>
      <select id="lang-select" aria-label="ì–¸ì–´ ì„ íƒ">
        <option value="ko">í•œêµ­ì–´</option>
        <option value="en">English</option>
      </select>
      <div id="hover-box"></div>

      <section id="ecology-impact">
        <h3 id="ecology-title">ì™œ ìƒíƒœ ë³€í™”ê°€ ì „ì—¼ë³‘ê³¼ ê´€ë ¨ì´ ìˆì„ê¹Œ?</h3>
        <div id="ecology-content"></div>
        <blockquote id="ecology-quote"></blockquote>
      </section>
    </aside>

    <main>
      <h2 id="list-title">ì˜¤ë¥¸ìª½ ì˜ì—­ ë¦¬ìŠ¤íŠ¸</h2>
      <ol class="bacteria-list"></ol>
    </main>
  </div>

  <footer></footer>

  <!-- ë¡œë”© í™”ë©´ -->
  <div class="loading">
    ë¡œë”©ì¤‘...
    <div></div>
  </div>

  <script>
  const bacteriaList = document.querySelector(".bacteria-list");
  const hoverBox = document.getElementById("hover-box");
  const langSelect = document.getElementById("lang-select");

  const headerTitle = document.getElementById("header-title");
  const listTitle = document.getElementById("list-title");

  const ecologyTitle = document.getElementById("ecology-title");
  const ecologyContent = document.getElementById("ecology-content");
  const ecologyQuote = document.getElementById("ecology-quote");

  const loadingDiv = document.querySelector('.loading');

  const items = {
    ko: [
      "ë‘ì°½(ì²œì—°ë‘)",
      "ì½œë ˆë¼(í˜¸ì—´ì)",
      "í™ì—­(ë§ˆë§ˆ)",
      "ì¥í‹°í‘¸ìŠ¤ ë° ì´ì§ˆ",
      "ì¸í”Œë£¨ì—”ì"
    ],
    en: [
      "Smallpox",
      "Cholera",
      "Measles",
      "Typhoid & Dysentery",
      "Influenza"
    ]
  };

  const descriptions_ko = {
    "1": {
      title: "ë‘ì°½(ì²œì—°ë‘)",
      preview: "ì¡°ì„ ì‹œëŒ€ ëŒ€í‘œ ì „ì—¼ë³‘. ì¢…ë‘ë²•ì´ ì‹œë„ë˜ì—ˆê³  WHO ë°±ì‹  ì ‘ì¢…ìœ¼ë¡œ ë°•ë©¸ë¨."
    },
    "2": {
      title: "ì½œë ˆë¼(í˜¸ì—´ì)",
      preview: "19ì„¸ê¸° ì´í›„ ìœ ì…. ìˆ˜ë¶„ ë³´ì¶©ê³¼ í•­ìƒì œë¡œ ì¹˜ë£Œ, êµ­ì œ ê°ì‹œì²´ê³„ ìš´ì˜."
    },
    "3": {
      title: "í™ì—­(ë§ˆë§ˆ)",
      preview: "ìì—° ë©´ì—­ ì˜ì¡´, ë°±ì‹  ë³´ê¸‰ìœ¼ë¡œ ì˜ˆë°© ê°€ëŠ¥í•´ì§."
    },
    "4": {
      title: "ì¥í‹°í‘¸ìŠ¤ ë° ì´ì§ˆ",
      preview: "ì˜¤ì—¼ëœ ë¬¼/ìŒì‹ìœ¼ë¡œ ì „íŒŒ. í•­ìƒì œì™€ ìœ„ìƒê°œì„ ìœ¼ë¡œ ì˜ˆë°© ê°€ëŠ¥."
    },
    "5": {
      title: "ì¸í”Œë£¨ì—”ì",
      preview: "ê³„ì ˆì„± ë…ê° ë° íŒ¬ë°ë¯¹. ë°±ì‹ Â·í•­ë°”ì´ëŸ¬ìŠ¤ì œ ê°œë°œ."
    }
  };

  const descriptions_en = {
    "1": {
      title: "Smallpox",
      preview: "A representative infectious disease in the Joseon Dynasty. Eradicated by WHO vaccination."
    },
    "2": {
      title: "Cholera",
      preview: "Introduced after 19th century. Treated with hydration and antibiotics; international surveillance."
    },
    "3": {
      title: "Measles",
      preview: "Relies on natural immunity. Preventable with vaccine distribution."
    },
    "4": {
      title: "Typhoid & Dysentery",
      preview: "Spread via contaminated food and water. Preventable by antibiotics and improved sanitation."
    },
    "5": {
      title: "Influenza",
      preview: "Seasonal flu and pandemics. Development of vaccines and antivirals."
    }
  };

  const ecologyData = {
    ko: {
      title: "ì™œ ìƒíƒœ ë³€í™”ê°€ ì „ì—¼ë³‘ê³¼ ê´€ë ¨ì´ ìˆì„ê¹Œ?",
      items: [
        {
          heading: "1. ìƒíƒœê³„ëŠ” ë°”ì´ëŸ¬ìŠ¤ì˜ ì§‘ì´ë‹¤",
          text: "ë°”ì´ëŸ¬ìŠ¤ì™€ ì„¸ê· ì€ ë™ë¬¼, ë¬¼, ì‹ë¬¼ ê°™ì€ ìì—° ì•ˆì— ì‚´ê³  ìˆìŠµë‹ˆë‹¤.\nìì—°ì´ ë³€í•˜ë©´ ë³‘ì›ì²´ì˜ ì„œì‹ì§€ë„ ë°”ë€Œê²Œ ë©ë‹ˆë‹¤."
        },
        {
          heading: "2. ì¸ê°„ì´ ê²½ê³„ë¥¼ ë„˜ìœ¼ë©´ ë°”ì´ëŸ¬ìŠ¤ë„ ë”°ë¼ì˜¨ë‹¤",
          text: "ì‚°ì„ ë°€ê³  ë„ì‹œë¥¼ ë§Œë“¤ë©´ ì•¼ìƒë™ë¬¼ê³¼ ë” ê°€ê¹Œì›Œì§‘ë‹ˆë‹¤.\nì´ ê³¼ì •ì—ì„œ ë™ë¬¼ì—ê²Œ ìˆë˜ ë°”ì´ëŸ¬ìŠ¤ê°€ ì‚¬ëŒì—ê²Œ ì˜®ê²¨ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
        },
        {
          heading: "3. ê¸°í›„ ë³€í™”ëŠ” ë³‘ì˜ í™œë™ ë²”ìœ„ë¥¼ ë„“íŒë‹¤",
          text: "ê¸°ì˜¨ì´ ì˜¤ë¥´ë©´ ëª¨ê¸°, ì§„ë“œê¸° ê°™ì€ ì „ì—¼ë³‘ ë§¤ê°œì²´ê°€ ë” ë„“ì€ ì§€ì—­ìœ¼ë¡œ í¼ì§‘ë‹ˆë‹¤.\nê·¸ ê²°ê³¼ ì—´ëŒ€ë³‘ì´ ë‹¤ë¥¸ ë‚˜ë¼ë¡œ í™•ì‚°ë˜ê¸°ë„ í•©ë‹ˆë‹¤."
        },
        {
          heading: "4. ìƒíƒœ ë³€í™”ëŠ” ì‚¬ëŒì„ ë” ì•½í•˜ê²Œ ë§Œë“ ë‹¤",
          text: "ê¸°ê·¼, í™ìˆ˜, ê°€ë­„ì€ ë¬¼ì„ ì˜¤ì—¼ì‹œí‚¤ê³  ì‚¬ëŒì„ êµ¶ì£¼ë¦¬ê²Œ ë§Œë“­ë‹ˆë‹¤.\në©´ì—­ë ¥ì´ ì•½í•´ì§„ ì‚¬ëŒë“¤ì€ ì „ì—¼ë³‘ì— ë” ì‰½ê²Œ ê±¸ë¦½ë‹ˆë‹¤."
        }
      ],
      quote: "ìƒíƒœê³„ ë³€í™”ê°€ ì¸ë¥˜ ê±´ê°•ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì€ ê³¼í•™ì  ì—°êµ¬ë¡œ ì ì  ë” ëª…í™•í•´ì§€ê³  ìˆìŠµë‹ˆë‹¤."
    },
    en: {
      title: "Why Is Ecological Change Related to Infectious Diseases?",
      items: [
        {
          heading: "1. Ecosystems Are Homes for Viruses",
          text: "Viruses and bacteria live in animals, water, and plants.\nWhen nature changes, habitats for pathogens also shift."
        },
        {
          heading: "2. Crossing Boundaries Brings Viruses Along",
          text: "Building cities by clearing forests increases contact with wildlife.\nViruses in animals can transfer to humans."
        },
        {
          heading: "3. Climate Change Expands Disease Range",
          text: "Higher temperatures let disease vectors like mosquitoes spread wider.\nTropical diseases can then spread to new areas."
        },
        {
          heading: "4. Ecological Change Weakens Humans",
          text: "Famine, floods, and drought pollute water and weaken people.\nThose with weak immunity get sick more easily."
        }
      ],
      quote: "The impact of ecological changes on human health is becoming clearer through scientific research."
    }
  };

  let currentLang = "ko";

  function populateList() {
    bacteriaList.innerHTML = "";
    items[currentLang].forEach((name, idx) => {
      const li = document.createElement("li");
      li.textContent = name;
      li.dataset.id = idx + 1;
      bacteriaList.appendChild(li);
    });
  }

  function updateEcology() {
    const data = ecologyData[currentLang];
    ecologyTitle.textContent = data.title;
    ecologyContent.innerHTML = "";
    data.items.forEach(item => {
      const box = document.createElement("div");
      box.className = "info-box";

      const h4 = document.createElement("h4");
      h4.textContent = item.heading;
      box.appendChild(h4);

      const p = document.createElement("p");
      p.textContent = item.text;
      box.appendChild(p);

      h4.addEventListener("click", () => {
        if (p.style.display === "block") {
          p.style.display = "none";
        } else {
          p.style.display = "block";
        }
      });

      ecologyContent.appendChild(box);
    });
    ecologyQuote.textContent = data.quote;
  }

  function updateTexts() {
    if (currentLang === "ko") {
      headerTitle.textContent = "ì™œ ìƒíƒœ ë³€í™”ê°€ ì „ì—¼ë³‘ê³¼ ê´€ë ¨ì´ ìˆì„ê¹Œ?";
      listTitle.textContent = "ì˜¤ë¥¸ìª½ ì˜ì—­ ë¦¬ìŠ¤íŠ¸";
    } else {
      headerTitle.textContent = "Why Is Ecological Change Related to Infectious Diseases?";
      listTitle.textContent = "List on right side";
    }
  }

  function showHoverBox(id) {
    let data = currentLang === "ko" ? descriptions_ko[id] : descriptions_en[id];
    if (!data) return;
    hoverBox.style.display = "block";
    hoverBox.style.top = "50px";
    hoverBox.style.right = "10px";

    hoverBox.innerHTML = `
      <h3>${data.title}</h3>
      <p>${data.preview}</p>
      <button class="go-bbb" data-url="bbb.html?id=${id}&lang=${currentLang}">
        ${currentLang === "ko" ? "ìì„¸íˆ ë³´ê¸°" : "Details"}
      </button>
    `;
  }

  function hideHoverBox() {
    hoverBox.style.display = "none";
    hoverBox.innerHTML = "";
  }

  // ğŸŸ¡ ìˆ˜ì •ëœ ë¶€ë¶„ (hoverBox ì•ˆì— ë“¤ì–´ê°€ë©´ ì•ˆ ë‹«í˜)
  bacteriaList.addEventListener("mouseout", e => {
    if (e.target.tagName === "LI") {
      const related = e.relatedTarget;
      if (!hoverBox.contains(related)) {
        hideHoverBox();
      }
    }
  });

  // ğŸŸ¡ hoverBox ë°”ê¹¥ ë²—ì–´ë‚¬ì„ ë•Œ ë‹«ê¸°
  hoverBox.addEventListener("mouseleave", () => {
    hideHoverBox();
  });

  // ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ hoverBox ë³´ì´ê¸°
  bacteriaList.addEventListener("mouseover", e => {
    if (e.target.tagName === "LI") {
      const id = e.target.dataset.id;
      showHoverBox(id);
    }
  });

  // ì–¸ì–´ ë³€ê²½ ì‹œ ë‹¤ì‹œ ë Œë”ë§
  langSelect.addEventListener("change", e => {
    currentLang = e.target.value;
    populateList();
    updateTexts();
    updateEcology();
    hideHoverBox();
  });

  // ë¡œë”© í›„ í˜ì´ì§€ ì´ë™
  document.body.addEventListener('click', e => {
    if (e.target.classList.contains('go-bbb')) {
      e.preventDefault();
      const url = e.target.getAttribute('data-url');
      if (!url) return;

      loadingDiv.style.visibility = 'visible';
      loadingDiv.style.opacity = '1';

      setTimeout(() => {
        window.location.href = url;
      }, 1000);
    }
  });

  // ì´ˆê¸° í™”ë©´ êµ¬ì„±
  populateList();
  updateTexts();
  updateEcology();
</script>
</body>
</html>
